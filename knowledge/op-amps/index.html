<!DOCTYPE html>
<html><head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="/css/style.css">
	
	
	<title>SynthDIY Wiki | Op-Amp Basics</title>
</head>
<body><header>
	<a id=logo href="https://wiki.synthdiy.com">
		<p style="margin: 0; color: white;">logo goes here</p>
		
	</a>
	<nav>
	
		<a class=menubutton href="/">
			<p class=menubuttontext>Home</p>
		</a>
	
		<a class=menubutton href="/about/">
			<p class=menubuttontext>About</p>
		</a>
	
		<a class=menubutton href="/modules">
			<p class=menubuttontext>Modules</p>
		</a>
	
		<a class=menubutton href="/parts">
			<p class=menubuttontext>Parts</p>
		</a>
	
		<a class=menubutton href="/building-blocks">
			<p class=menubuttontext>Building Blocks</p>
		</a>
	
		<a class=menubutton href="/knowledge">
			<p class=menubuttontext>Knowledge</p>
		</a>
	
		<a class=menubutton href="/contribute">
			<p class=menubuttontext>Contribute</p>
		</a>
	
		<a class=menubutton href="/tags">
			<p class=menubuttontext>Tags</p>
		</a>
	
</nav>

</header>
<div id="content">
<div id="content">
	<h1>Op-Amp Basics</h1>
	<p>The op-amp (operational amplifier) is a fundamental building block of analog electronics. With the addition of other simple components, they can be used to perform complex mathematical operations such as differentiation, integration, exponential conversion, etc. However, at its core, the op-amp is simply a differential amplifier with a very high gain.</p>
<p>The symbol for an op-amp is a triangle, with non-inverting (<strong>V<!-- raw HTML omitted -->in+<!-- raw HTML omitted --></strong>) and inverting (<strong>V<!-- raw HTML omitted -->in-<!-- raw HTML omitted --></strong>) inputs indicated by ‘+’ and ‘-‘, respectively. This is shown in Figure 1. Often, the power supply connections are left off to reduce clutter in schematics, as shown in Figure 1b. In this case, it is generally implied that the op-amp’s power connections are connected to the circuit’s supply voltages.</p>
<!-- raw HTML omitted -->
<p>This article will cover the most common type of op-amp, the voltage-feedback amplifier (VFA), which acts as a voltage-controlled voltage source (VCVS). This is generally what is referred to when using the term &lsquo;op-amp&rsquo;, though there are four possible classes of op-amps depending on the input and output parameters, shown in Figure 2. In synthesizer design, and analog circuit design in general, VFAs and OTAs are by far the most common.</p>
<p><img src="OpAmp_Types.svg" alt="Op-Amp Types">
<strong>Figure 2</strong></p>
<h2 id="basic-operation">Basic Operation</h2>
<h3 id="gain">Gain</h3>
<p>One of the defining features of op-amps is their very high open-loop gain. The term &lsquo;open-loop&rsquo; refers to the configuration with no feedback, as shown in Figure 3a. Figure 3b shows the &lsquo;closed-loop&rsquo; configuration, in this case with negative feedback.</p>
<p><img src="OpAmp_OpenClosedLoop.svg" alt="Open/Closed Loop">
<strong>Figure 3</strong></p>
<p>An op-amp’s gain, <strong>A</strong>, is defined as the ratio of the output voltage, <strong>V<!-- raw HTML omitted -->out<!-- raw HTML omitted --></strong>, to the input voltage, <strong>V<!-- raw HTML omitted -->in<!-- raw HTML omitted --></strong>. Since op-amps are differential amplifiers, the input voltage, <strong>V<!-- raw HTML omitted -->in<!-- raw HTML omitted --></strong>, is the <em>difference</em> between the non-inverting and inverting inputs. Using these two relations, the output voltage can be expressed in terms of the gain and the input voltages:</p>
<p><img src="https://render.githubusercontent.com/render/math?math=%5CLarge%20A%5Cequiv%5Cfrac%7BV_%7Bout%7D%7D%7BV_%7Bin%7D%7D" alt=""></p>
<p><img src="https://render.githubusercontent.com/render/math?math=%5CLarge%20V_%7Bin%7D=V_%7Bin%2B%7D-V_%7Bin-%7D" alt=""></p>
<p><img src="https://render.githubusercontent.com/render/math?math=%5CLarge%20%5Ctherefore%20V_%7Bout%7D=A%20%5Ccdot%20(V_%7Bin%2B%7D%20-%20V_%7Bin-%7D)" alt=""></p>
<p>For typical op-amps, the open-loop gain is on the order of 100,000, or 100dB. In other words, the voltage of a signal at the input will be be multiplied by 100,000 at the output. Of course, op-amps are limited by their supply voltages, so instead of generating extremely high voltages the op-amp will saturate at either the positive or negative supply voltage.</p>
<h3 id="feedback">Feedback</h3>
<p>Feedback is an essential concept to understand when working with op-amps. Feedback refers to the technique of &lsquo;feeding&rsquo; the output of the op-amp back to the input, generally to the inverting input. This is known as negative feedback, whereas connecting the output to the non-inverting input is positive feedback. Adding feedback converts the op-amp to a closed-loop configuration.</p>
<p>Negative feedback is a way to control and stabilize the gain of the op-amp, since the high gain of the open-loop configuration is not terribly useful (though it does have some important uses, which will be described later). Since op-amps are differential amplifiers, negative feedback will feed the difference between the input signals back to the inverting input. If V<!-- raw HTML omitted -->in+<!-- raw HTML omitted --> <strong>&gt;</strong> V<!-- raw HTML omitted -->in-<!-- raw HTML omitted -->, this difference will be positive, and the voltage at the inverting input will increase. If V<!-- raw HTML omitted -->in+<!-- raw HTML omitted --> <strong>&lt;</strong> V<!-- raw HTML omitted -->in-<!-- raw HTML omitted --> the difference will be negative, decreasing the voltage at the inverting input. In effect, negative feedback will cause the op-amp to &lsquo;push&rsquo; the voltage of its inverting input towards the non-inverting input until they are equal (the voltage difference is 0). Conversely, positive feedback will have the opposite effect, pushing the non-inverting input away from the inverting input.</p>
<h3 id="impedance">Impedance</h3>
<p>Another important characteristic of op-amps is their input and output impedances. Op-amps have <strong>very high</strong> impedance on both of its inputs, meaning almost no current will flow into the op-amp through them. Conversely, their output has <strong>very low</strong> impedance. Under normal circumstances, the input and output impedances can be assumed to be ∞ and 0, respectively.</p>
<p>Figure 4 illustrates the internal impedances in a simplified model of an op-amp.</p>
<p><img src="OpAmp_Impedances.svg" alt="Op-Amp Impedances">
<strong>Figure 4</strong></p>
<h3 id="rules-of-ideal-op-amp">Rules of Ideal Op-Amp</h3>
<p>To summarize the previous points discussed, the following are key rules to remember when analyzing and designing op-amp circuits:</p>
<blockquote>
<ul>
<li><strong>Very high input impedance</strong> <img src="https://render.githubusercontent.com/render/math?math=%5Clarge%20%28Z_%7Bin%7D%20%5Capprox%20%5Cinfty,%20I_%7Bin%7D%20%5Capprox%200%29" alt=""></li>
<li><strong>Very low output impedance</strong> <img src="https://render.githubusercontent.com/render/math?math=%5Clarge%20%28Z_%7Bout%7D%20%5Capprox%200%29" alt=""></li>
<li><strong>Negative feedback will drive the two inputs to be equal</strong> <img src="https://render.githubusercontent.com/render/math?math=%5Clarge%20%28V_%7Bin+%7D%20=%20V_%7Bin-%7D%29" alt=""></li>
<li><strong>Positive feedback will drive the two inputs apart</strong></li>
</ul>
</blockquote>
<h2 id="common-configurations">Common Configurations</h2>
<h3 id="comparator">Comparator</h3>
<p>Perhaps the simplest configuration of an op amp is as a comparator. The comparator has no feedback, and often one of the inputs is held at a constant reference voltage, called V<!-- raw HTML omitted -->ref<!-- raw HTML omitted -->. Due to the high input impedance of the op-amp, the impedance of the voltage reference itself is not critical. Commonly, voltage dividers are used as reference voltage sources. Alternatively, a zener diode or voltage regulator can be used.</p>
<p><img src="OpAmp_Comparator.svg" alt="Op-Amp Comparator">
<strong>Figure 5</strong></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>This configuration takes advantage of the high open-loop gain of the op-amp to &lsquo;digitize&rsquo; an analog signal. Since the op-amp amplifies the difference between the input signals, this can be viewed as &lsquo;comparing&rsquo; the input voltages – if V<!-- raw HTML omitted -->in+<!-- raw HTML omitted --> &gt; V<!-- raw HTML omitted -->in-<!-- raw HTML omitted -->, the output will quickly swing to the positive supply voltage, and vice versa. This behavior is shown in Figure 6 with a constant positive reference voltage at the inverting input.</p>
<p><img src="OpAmp_Comparator_Output.svg" alt="Op-Amp Comparator Output">
<strong>Figure 6</strong></p>
<h3 id="buffer">Buffer</h3>
<p>Another simple and very useful op-amp configuration is the buffer, also known as the voltage-follower. As the name implies, the output voltage &lsquo;follows&rsquo; the input voltage, or in other words, the output voltage is always equal to the input voltage. This is achieved by directly connecting the ouput of the op-amp directly to the inverting input.</p>
<p><img src="OpAmp_Buffer.svg" alt="Op-Amp Buffer">
<strong>Figure 7</strong></p>
<!-- raw HTML omitted -->
<p>Due to the negative feedback, the op-amp will push the voltage of the inverting input to be equal to the non-inverting input. Since the output is directly connected to the inverting input, the output voltage will always equal the voltage at the non-inverting input:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Op-amps make excellent buffers due to their characteristic high input impedances and low output impedance. This acts to isolate upstream circuitry from any changes in  downstream impedances. Op-amp buffers are ubiquitous in synthesizer design, and are often used at the inputs and outputs of a module to isolate them from other modules.</p>
<h3 id="non-inverting-amplifier">Non-Inverting Amplifier</h3>
<p>As seen in the buffer circuit, adding negative feedback is a way to control the gain of the op-amp. In the case of the buffer, the output is fed back directly to the inverting input to achieve a gain of 1. However, by using resistor dividers the gain can be set to any other value to amplify or attenuate a signal.</p>
<p>The most intuitive op-amp amplifier is the non-inverting amplifier, which is similar in layout to the buffer. However, as shown in figure 8 there is a resistor divider comprised of <strong>R<!-- raw HTML omitted -->1<!-- raw HTML omitted --></strong> and <strong>R<!-- raw HTML omitted -->2<!-- raw HTML omitted --></strong> between the op-amp&rsquo;s output and ground, which divides the output voltage before being fed back to the inverting input.</p>
<p><img src="OpAmp_NonInverting_Amplifier.svg" alt="Op-Amp Non-Inverting Amplifier">
<strong>Figure 8</strong></p>
<p>Due to the reduction of the voltage being fed back to the inverting input, the op-amp will raise its gain to try to make the inputs equal. As a result, the output signal will be amplified proportionally to the resistor divider ratio:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h3 id="inverting-amplifier">Inverting Amplifier</h3>
<p><img src="OpAmp_Inverting_Amplifier.svg" alt="Op-Amp Inverting Amplifier">
<strong>Figure 8</strong></p>

</div>

        </div></body>
</html>
